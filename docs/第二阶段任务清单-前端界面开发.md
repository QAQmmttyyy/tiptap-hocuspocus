# 第二阶段任务清单 - 前端界面开发 (标签页设计)

## 总体目标

基于第一阶段已完成的数据持久化系统，开发现代化的标签页文档管理界面，实现类似 VS Code 和 Notion 的专业文档工作体验。采用侧边栏文档导航 + 标签页多文档编辑的布局模式。

## 🔗 任务依赖关系和优先级分析

### 📊 依赖关系图

```
阶段 2.1 基础架构 (🔴 必须最先) ✅ 已完成
    ↓
┌─ 阶段 2.2 标签页系统 (🔴 核心) ←──┐
│   ↓                              │
├─ 阶段 2.3 侧边栏导航 (🔴 核心) ←──┤ (可并行)
│   ↓                              │
└─ 阶段 2.4 编辑器增强 (🟡 增强) ←──┘
    ↓
┌─ 阶段 2.5 响应式设计 (🟡 优化) ←─ (可并行)
├─ 阶段 2.6 系统状态 (🟢 润色) ←─┘
```

## 🎯 最终布局架构

```
┌─────────────────────────────────────────────────────────────┐
│  Sidebar (集成Header + Navigation)                         │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ Logo + 标题 + 用户信息 + 操作按钮                       ││
│  ├─────────────────────────────────────────────────────────┤│
│  │ 文档搜索框                                              ││
│  │ 筛选按钮 [最近] [收藏] [排序] [筛选]                    ││
│  ├─────────────────────────────────────────────────────────┤│
│  │ 文档列表                                                ││
│  │ • 文档1 [已修改指示点]                                 ││
│  │ • 文档2                                                 ││
│  │ • 文档3                                                 ││
│  ├─────────────────────────────────────────────────────────┤│
│  │ 底部状态：文档数量 + 同步状态                           ││
│  └─────────────────────────────────────────────────────────┘│
├──────────────┬──────────────────────────────────────────────┤
│              │ Main Content Area                            │
│              │ ┌─────────────────────────────────────────┐  │
│              │ │ Tabs Bar + SidebarTrigger              │  │
│              │ │ [Doc1] [Doc2*] [Doc3] [+] [×] [⋯]      │  │
│              │ ├─────────────────────────────────────────┤  │
│              │ │ Document Header                        │  │
│              │ │ 标题编辑 + 协作者 + 保存状态            │  │
│              │ ├─────────────────────────────────────────┤  │
│              │ │                                         │  │
│              │ │        Tiptap Editor                    │  │
│              │ │        (保持现有实现)                    │  │
│              │ │                                         │  │
│              │ └─────────────────────────────────────────┘  │
│              ├─────────────────────────────────────────────┤
│              │ Footer: 连接状态 + 服务器状态 + 在线用户   │
│              └─────────────────────────────────────────────┘
└─────────────────────────────────────────────────────────────┘
```

**组件使用策略：**
- **✅ 使用 shadcn/ui**: Button, Input, Badge, Tooltip, Dialog, DropdownMenu, Sidebar
- **❌ 避免过度使用**: Card(文档项), Progress(简单状态), Alert(简单提示)
- **🎯 Tailwind 实现**: 布局、列表项、简单状态、基础样式

## 任务分解

### 🚀 阶段 2.1：基础架构和布局 (优先级：🔴 最高) ✅ **已完成**

#### ✅ 任务 2.1.1：整体布局架构设计 - **已完成**
- [x] 基于 shadcn/ui Sidebar 组件设计主布局
- [x] 保持 Tailwind 最小配置原则
- [x] 合理选择组件 vs 原子类
- [x] 安装少量必需的 shadcn/ui 组件

**✅ 已安装的 shadcn/ui 组件：**
```bash
✅ npx shadcn@latest add dropdown-menu  # 操作菜单
✅ npx shadcn@latest add dialog         # 创建/删除确认
✅ npx shadcn@latest add tooltip        # 悬停信息
✅ npx shadcn@latest add badge          # 状态指示
✅ npx shadcn@latest add avatar         # 用户头像
✅ npx shadcn@latest add command        # Cmd+P 搜索
✅ npx shadcn@latest add sidebar        # 侧边栏组件
```

**✅ 已完成的输出文件：**
```
src/components/layout/
├── app-sidebar.tsx             ✅ 完整侧边栏(集成Header功能)
├── main-content.tsx            ❌ 已删除，功能集成到responsive-layout
├── app-footer.tsx              ✅ 应用底栏，移到右侧主内容区
├── responsive-layout.tsx       ✅ 左右分栏响应式布局
└── app-header.tsx              ❌ 已删除，功能集成到app-sidebar
```

#### ✅ 任务 2.1.2：状态管理架构搭建 - **已完成**
- [x] 安装和配置 TanStack Query + Zustand
- [x] 设计标签页状态管理架构
- [x] 创建多文档实例管理系统
- [x] 实现临时认证和API客户端

**✅ 已安装技术栈：**
```bash
✅ @tanstack/react-query zustand
✅ @tanstack/react-query-devtools
✅ react-hotkeys-hook  # 键盘快捷键
```

**✅ 已完成的输出文件：**
```
src/lib/
├── api-client.ts              ✅ API 客户端封装
├── query-client.ts            ✅ TanStack Query 配置
└── stores/
    ├── tab-store.ts           ✅ 标签页状态管理(446行完整实现)
    ├── sidebar-store.ts       ✅ 侧边栏状态管理
    └── ui-store.ts            🔄 待开发

src/hooks/
├── use-temp-auth.ts           ✅ 临时认证 Hook
├── use-documents.ts           ✅ 文档数据 Hook(集成筛选排序)
├── use-tabs.ts                🔄 标签页操作 Hook (待开发)
├── use-hotkeys.ts             🔄 快捷键 Hook (待开发)
└── use-api.ts                 ✅ 基础API调用封装

src/components/providers/
└── query-provider.tsx         ✅ Query Provider组件

src/app/documents/
├── layout.tsx                 ✅ 文档页面布局
└── page.tsx                   ✅ 文档页面
```

### 🎨 **最新UI优化 (2024-12-03)** ✅ **已完成**

#### ✅ 侧边栏UI重新设计
- [x] **集成设计**：将 AppHeader 完全集成到 AppSidebar
- [x] **左右分栏**：布局改为侧边栏 + 主内容区的经典分栏结构  
- [x] **搜索优化**：移除重复搜索框，保留文档搜索功能
- [x] **视觉提升**：改进Logo设计、用户卡片、按钮样式、空状态展示
- [x] **信息层次**：优化文档列表项显示，增加更多视觉层次

#### ✅ 布局架构优化
- [x] **响应式结构**：使用标准 SidebarProvider 包装模式
- [x] **Footer位置**：将 AppFooter 移到右侧主内容区底部
- [x] **组件清理**：删除不再需要的 AppHeader 和 MainContent 组件

**🎉 阶段 2.1 完成标志：**
- [x] 响应式布局系统正常工作
- [x] 状态管理架构搭建完成
- [x] API 客户端能调用现有接口
- [x] 临时认证方案运行正常
- [x] TypeScript 编译通过（npx tsc --noEmit 无错误）
- [x] 开发服务器运行正常（http://localhost:3001）
- [x] 侧边栏UI设计完成，布局美观且功能完整

---

### 📑 阶段 2.2：标签页系统核心 (优先级：🔴 最高) 🔄 **进行中**

#### 任务 2.2.1：标签页基础系统
- [ ] 自定义标签页实现 (Tailwind + 简单状态)
- [ ] 避免 shadcn/ui Tabs (不够灵活)
- [ ] 标签页状态管理逻辑
- [ ] 基础操作 (打开、关闭、切换)

**预计时间：** 8小时  
**实现方案：**
- 标签栏：Tailwind flex + 横向滚动
- 标签项：简单 button + active 状态样式
- 关闭按钮：Button 组件 size="sm" variant="ghost"
- 脏状态：简单的 `::before` 伪元素小圆点

**输出文件：**
```
src/components/tabs/
├── tab-bar.tsx                # Tailwind flex 实现
├── tab-item.tsx               # 简单 button + 状态类
├── tab-content.tsx            # 简单容器
├── tab-controls.tsx           # Button 组件
└── tab-overflow.tsx           # DropdownMenu 组件

src/lib/tabs/
├── tab-manager.ts             # 状态管理
├── tab-utils.ts               # 工具函数
└── tab-types.ts               # 类型定义
```

#### 任务 2.2.2：标签页高级功能
- [ ] 右键菜单 (DropdownMenu 组件)
- [ ] 未保存状态 (Tailwind 伪元素)
- [ ] 拖拽排序 (与 Tailwind 样式配合)
- [ ] 标签页持久化

**预计时间：** 6小时  
**技术选择：**
- 右键菜单：shadcn/ui DropdownMenu (复杂交互，值得用组件)
- 脏状态指示：Tailwind `before:` 伪类 (简单样式，不需要 Badge)
- 拖拽反馈：Tailwind 过渡类 + 简单样式
- 确认对话框：Dialog 组件 (复杂交互)

**输出文件：**
```
src/components/tabs/
├── tab-context-menu.tsx       # DropdownMenu 实现
├── tab-dirty-indicator.tsx    # Tailwind 伪元素
├── tab-drag-layer.tsx         # Tailwind 过渡
└── tab-session-manager.tsx    # 会话恢复
```

#### 任务 2.2.3：多文档实例管理
- [ ] 文档编辑器实例池
- [ ] 协作连接实例管理
- [ ] 内存优化策略
- [ ] 实例生命周期管理

**预计时间：** 7小时  
**实例管理：**
- Editor实例创建和销毁
- HocuspocusProvider连接池
- 非活跃标签页暂停机制
- 内存泄漏预防

**输出文件：**
```
src/lib/instances/
├── document-instance-manager.ts # 文档实例管理器
├── editor-pool.ts               # 编辑器实例池
├── connection-pool.ts           # 连接池管理
├── memory-optimizer.ts          # 内存优化器
└── instance-types.ts            # 实例类型定义

src/components/editor/
├── tabbed-editor.tsx            # 标签页编辑器容器
├── editor-instance.tsx          # 单个编辑器实例
└── editor-placeholder.tsx       # 编辑器占位符
```

**🎉 阶段 2.2 成功标准：**
- [ ] 可以打开多个文档标签页
- [ ] 标签页之间切换流畅
- [ ] 拖拽排序功能正常
- [ ] 内存使用优化有效
- [ ] URL和标签页状态同步

---

### 📂 阶段 2.3：侧边栏文档导航 (优先级：🔴 最高) 🔄 **部分完成**

#### ✅ 任务 2.3.1：文档列表侧边栏 - **已完成**
- [x] 基于 shadcn/ui Sidebar 基础结构
- [x] 文档搜索 (Input 组件)  
- [x] 文档列表 (SidebarMenu 标准组件)
- [x] 新建按钮 (Button + Dialog)
- [x] 用户信息卡片和应用头部集成
- [x] 美观的空状态设计

#### ✅ 任务 2.3.2：文档筛选和排序 - **已完成**
- [x] 筛选按钮 (Button + 简单状态切换)
- [x] 排序选择 (SortAsc/SortDesc 按钮)
- [x] 收藏功能 (简单 button + star icon)
- [x] 最近访问 (与 useDocuments Hook 集成)

#### 🔄 任务 2.3.3：侧边栏状态管理 - **基本完成，需增强**
- [x] 侧边栏展开/收缩状态  
- [x] 搜索状态管理
- [x] 筛选状态持久化
- [ ] 选中文档高亮 (需要与标签页状态联动)
- [ ] 点击文档在标签页中打开 (需要标签页系统)

**当前完成状态：**
- ✅ 侧边栏UI设计和基础功能完成
- ✅ 文档列表展示、搜索、筛选、排序功能正常
- 🔄 需要与标签页系统集成，实现点击打开功能

**🎉 阶段 2.3 成功标准：**
- [x] 侧边栏显示所有文档列表
- [x] 搜索和筛选功能正常
- [ ] 点击文档在新标签页打开 (待标签页系统完成)
- [x] 侧边栏状态持久化
- [x] 性能优化 (目前列表较少，暂无需虚拟滚动)

---

### 🎨 阶段 2.4：文档编辑器增强 (优先级：🟡 中等)

#### 任务 2.4.1：文档头部区域
- [ ] 可编辑标题 (Input 组件)
- [ ] 操作按钮 (Button + DropdownMenu)
- [ ] 协作者头像 (Avatar + Tooltip)  
- [ ] 保存状态 (简单 Badge + Tailwind 动画)

**预计时间：** 5小时  
**组件选择原则：**
- Input: 表单组件，应该用 ✅
- DropdownMenu: 复杂菜单，应该用 ✅  
- Avatar: 复杂样式，应该用 ✅
- Tooltip: 交互组件，应该用 ✅
- 保存状态: 简单文本 + Badge，不需要 Progress 组件

**输出文件：**
```
src/components/document/
├── document-header.tsx         # Tailwind flex 布局
├── editable-title.tsx          # Input 组件
├── document-actions.tsx        # DropdownMenu 组件
├── collaboration-info.tsx      # Avatar + Tooltip
└── save-status.tsx             # 简单 Badge + 文本
```

#### 任务 2.4.2：协作编辑器集成
- [ ] 保持现有 collaborative-editor.tsx
- [ ] 标签页级别的编辑器包装
- [ ] 工具栏 Button 组件化 (仅复杂按钮)
- [ ] 状态反馈 (简单文本 + Badge)

**预计时间：** 6小时  
**集成策略：**
- 现有编辑器：保持不变，已经工作良好
- 工具栏：复杂按钮用 Button 组件，简单的保持原样
- 状态显示：简单文本，不需要复杂的 Alert 组件
- 错误提示：简单的 toast 函数调用

**输出文件：**
```
src/components/editor/
├── collaborative-editor-tab.tsx # 简单包装器
├── editor-toolbar-enhanced.tsx  # 选择性使用 Button
├── collaboration-cursors.tsx    # 保持现有实现
├── online-users-list.tsx        # Avatar 组件
└── editor-status-bar.tsx        # Tailwind + Badge
```

#### 任务 2.4.3：快捷键和用户体验
- [ ] 全局快捷键系统
- [ ] 命令面板 (Command 组件，复杂功能值得用)
- [ ] 快捷键提示 (Tooltip 组件)
- [ ] 简单错误处理 (toast 函数，不用 Alert 组件)

**预计时间：** 4小时  
**UX 组件选择：**
- Command: 复杂的搜索/筛选功能，值得用组件 ✅
- Tooltip: 交互增强，值得用组件 ✅
- Toast: 简单反馈，用函数调用而非组件包装
- 快捷键显示: 简单 kbd 标签 + Tailwind 样式

**输出文件：**
```
src/lib/hotkeys/
├── global-shortcuts.ts         # 快捷键绑定
├── tab-shortcuts.ts            # 标签页快捷键
└── editor-shortcuts.ts         # 编辑器快捷键

src/components/ui/
├── command-palette.tsx         # Command 组件实现
└── shortcut-kbd.tsx            # 简单 kbd 标签
```

**🎉 阶段 2.4 成功标准：**
- [ ] 文档头部信息完整显示
- [ ] 协作编辑器功能完整
- [ ] 快捷键操作流畅
- [ ] 错误处理完善

---

### 📱 阶段 2.5：响应式设计和移动端适配 (优先级：🟡 中等)

#### 任务 2.5.1：响应式布局优化
- [ ] 断点设计和媒体查询
- [ ] 移动端侧边栏 (抽屉模式)
- [ ] 移动端标签页处理
- [ ] 触摸操作适配

**预计时间：** 7小时  
**响应式策略：**
- 桌面端: 固定侧边栏 + 完整标签页
- 平板端: 可收缩侧边栏 + 简化标签页
- 移动端: 抽屉侧边栏 + 底部导航

**输出文件：**
```
src/components/mobile/
├── mobile-sidebar-drawer.tsx   # 移动端抽屉
├── mobile-tab-navigation.tsx   # 移动端标签页导航
├── mobile-document-header.tsx  # 移动端文档头部
└── touch-gestures.tsx          # 触摸手势处理

src/components/responsive/
├── responsive-sidebar.tsx      # 响应式侧边栏
├── responsive-tabs.tsx         # 响应式标签页
└── breakpoint-provider.tsx     # 断点状态提供者 (useMediaQuery hook)
```

#### 任务 2.5.2：移动端编辑体验
- [ ] 移动端编辑器优化
- [ ] 虚拟键盘适配
- [ ] 手势操作支持
- [ ] 移动端工具栏

**预计时间：** 5小时  
**移动端优化：**
- 编辑器触摸操作
- 键盘弹出自适应
- 滑动手势支持
- 简化的工具栏

**输出文件：**
```
src/components/mobile/
├── mobile-editor.tsx           # 移动端编辑器
├── mobile-toolbar.tsx          # 移动端工具栏
├── keyboard-adapter.tsx        # 虚拟键盘适配
└── gesture-handler.tsx         # 手势处理
```

**🎉 阶段 2.5 成功标准：**
- [ ] 各种屏幕尺寸正常显示
- [ ] 移动端操作体验良好
- [ ] 标签页在移动端合理降级
- [ ] 触摸交互流畅

---

### 🎨 阶段 2.6：系统状态和优化 (优先级：🟢 较低)

#### 任务 2.6.1：系统状态Footer
- [ ] 连接状态指示器
- [ ] 服务器状态显示
- [ ] API健康监控
- [ ] 管理入口

**预计时间：** 3小时  
**状态显示：**
- 实时连接状态
- Hocuspocus服务器状态
- API响应时间
- 系统管理链接

**输出文件：**
```
src/components/footer/
├── app-footer.tsx              # 应用底栏
├── connection-status.tsx       # 连接状态
├── server-status.tsx           # 服务器状态
├── api-health.tsx              # API健康状态
└── admin-actions.tsx           # 管理操作
```

#### 任务 2.6.2：性能优化和监控
- [ ] 组件懒加载
- [ ] 内存使用监控
- [ ] 性能指标收集
- [ ] 错误上报系统

**预计时间：** 4小时  
**性能优化：**
- React.lazy 懒加载
- 内存泄漏监控
- 性能指标埋点
- Sentry 错误收集

**输出文件：**
```
src/lib/performance/
├── lazy-loading.ts             # 懒加载配置
├── memory-monitor.ts           # 内存监控
├── performance-tracker.ts      # 性能追踪
└── error-reporter.ts           # 错误上报

src/components/monitoring/
├── performance-overlay.tsx     # 性能监控面板
└── memory-usage.tsx            # 内存使用显示
```

**🎉 阶段 2.6 成功标准：**
- [ ] 系统状态一目了然
- [ ] 性能监控正常工作
- [ ] 内存使用优化
- [ ] 错误处理完善

---

## 📊 时间预估总览

| 阶段 | 任务数 | 预计时间 | 主要内容 | 状态 |
|------|--------|---------|----------|------|
| **2.1 基础架构** | 2个任务 | 11小时 | 布局设计、状态管理 | ✅ **已完成** |
| **2.2 标签页系统** | 3个任务 | 21小时 | 标签页核心、高级功能、实例管理 | 🔄 **待开发** |
| **2.3 侧边栏导航** | 3个任务 | 13小时 | 文档列表、筛选、状态管理 | ✅ **基本完成** |
| **2.4 编辑器增强** | 3个任务 | 15小时 | 文档头部、编辑器集成、快捷键 | 🔄 **待开发** |
| **2.5 响应式设计** | 2个任务 | 12小时 | 响应式布局、移动端适配 | 🔄 **待开发** |
| **2.6 系统优化** | 2个任务 | 7小时 | 状态footer、性能优化 | 🔄 **待开发** |

**总计预估时间：** 79小时 (约 3-4周，每天 4-5小时)  
**当前完成进度：** 24小时 / 79小时 ≈ **30%**

## 🎯 里程碑检查点

### ✅ 检查点 1：基础架构完成 - **已达成**
- [x] 响应式布局系统正常工作
- [x] 状态管理架构搭建完成
- [x] API 客户端能调用所有现有接口
- [x] 临时认证方案运行正常
- [x] 侧边栏UI设计完成，美观且功能完整

### 🔄 检查点 2：标签页系统可用 - **进行中 (0%)**
- [ ] 基础标签页功能 (打开、关闭、切换)
- [ ] 标签页高级功能 (拖拽、右键菜单)
- [ ] 多文档实例管理正常
- [ ] 性能优化有效 (内存使用合理)

### 🔄 检查点 3：完整导航体验 - **部分完成 (70%)**
- [x] 侧边栏文档列表功能完整
- [x] 搜索和筛选功能正常
- [ ] 文档与标签页联动正常 (需要标签页系统)
- [x] 整体导航体验流畅

### ⏳ 检查点 4：专业编辑体验 - **待开始 (0%)**
- [ ] 协作编辑器完整集成
- [ ] 文档头部信息完善
- [ ] 快捷键系统正常
- [ ] 协作功能体验良好

### ⏳ 检查点 5：生产就绪 - **待开始 (0%)**
- [ ] 各种屏幕尺寸显示正常
- [ ] 移动端体验良好
- [ ] 性能指标达标
- [ ] 错误处理完善

## 📈 当前状态总结 (2024-12-03)

### ✅ 已完成的重要工作

1. **完整的基础架构** (阶段 2.1)
   - 左右分栏响应式布局，符合 shadcn/ui 标准
   - 完整的状态管理系统 (Zustand + TanStack Query)  
   - API 客户端和临时认证系统
   - 标签页状态管理 (446行完整实现)

2. **美观的侧边栏系统** (阶段 2.3)
   - 集成式设计：Header + Navigation + Footer 一体化
   - 完整的用户信息展示和快捷操作
   - 文档搜索、筛选、排序功能
   - 优雅的空状态和加载状态
   - 响应式设计和主题适配

3. **技术质量保证**
   - TypeScript 类型安全，无编译错误
   - ESLint 代码规范，无警告错误
   - 组件化设计，易于维护和扩展

### 🎯 下一步重点任务

**立即开始：阶段 2.2 标签页系统核心**
1. 自定义标签页组件实现
2. 与侧边栏的点击联动
3. 标签页状态管理集成
4. 多文档实例管理

这将是最关键的里程碑，完成后整个文档管理系统的核心功能就基本可用了！

## 🔄 与第三阶段的衔接计划

### 预留认证集成接口
```typescript
// 为后续认证系统预留接口
interface AuthProvider {
  user: User | null
  isAuthenticated: boolean
  login: (provider: string) => Promise<void>
  logout: () => Promise<void>
}

// 当前使用临时实现，第三阶段替换为真实认证
// 标签页状态、文档权限将与认证系统集成
```

### API 兼容性保证
- 前端标签页状态管理保持接口稳定
- 后端 API 在第三阶段添加认证中间件
- 文档权限检查将集成到标签页打开逻辑
- 协作信息将显示真实用户数据

## 💡 优先级说明

### 🎯 MVP分层策略

#### **MVP 1.0 - 核心可用版本** (45小时)
**目标：** 2周内交付基本可用的标签页文档管理系统

- **🔴 P0 - 阻塞级（必须完成）**
  - ✅ 阶段 2.1：基础架构和布局
  - 🔄 阶段 2.2.1：标签页基础系统
  - ✅ 阶段 2.3.1：文档列表侧边栏
  
- **🟠 P1 - 高优先级（强烈建议）**
  - 🔄 阶段 2.2.2：标签页高级功能 (拖拽、右键菜单)
  - ✅ 阶段 2.3.2：文档筛选和排序
  - 🔄 阶段 2.2.3：多文档实例管理 (简化版)

#### **MVP 2.0 - 完整功能版本** (+15小时)
**目标：** 3周内交付专业级编辑体验

- **🟡 P2 - 中优先级（重要功能）**
  - 阶段 2.4.1：文档头部区域
  - 阶段 2.4.2：协作编辑器集成
  - 阶段 2.4.3：快捷键和用户体验
  - ✅ 阶段 2.3.3：侧边栏状态管理 (基本完成)

#### **MVP 3.0 - 生产就绪版本** (+12小时)
**目标：** 4周内交付可上线产品

- **🟢 P3 - 低优先级（优化改进）**
  - 阶段 2.5：响应式设计和移动端适配
  - 阶段 2.6：系统状态和性能优化

### 🚀 推荐执行路径

#### **当前阶段：标签页系统开发 (P0)** 
```bash
下一步重点：
🔄 2.2.1 标签页基础系统 (8小时)
🔄 2.2.2 标签页高级功能 (6小时)  
🔄 2.2.3 实例管理简化版 (5小时)
```
**里程碑：** 完整的标签页+侧边栏文档管理体验

### 📋 动态调整建议

1. **当前重点**：专注标签页系统开发，这是MVP 1.0的关键组件
2. **质量门控**：每个MVP版本都要通过基本功能测试
3. **用户反馈**：标签页系统完成后收集反馈，调整后续开发重点
4. **技术债务**：在P3阶段重点处理前期技术债务

### 🎯 成功标准

#### **当前目标：标签页系统 MVP (预计3周内)**
- [ ] 可以同时打开5个以上文档标签页
- [ ] 标签页切换响应时间 < 200ms
- [ ] 侧边栏点击文档能在标签页中打开
- [ ] 基本的标签页CRUD操作可用 (打开、关闭、切换)

## 📝 开发注意事项

### 性能优化要求
- 标签页数量限制 (最多10个)
- 非活跃编辑器实例暂停
- 虚拟滚动处理大量文档
- 内存泄漏预防和监控

### 用户体验要求
- 标签页切换 < 100ms 响应
- 搜索结果 < 200ms 显示
- 拖拽操作流畅无卡顿
- 快捷键响应及时

### 代码质量要求
- 保持 TypeScript 类型安全
- 遵循 ESLint 代码规范
- 组件单一职责原则
- 完善的错误边界处理

### 兼容性考虑
- 现代浏览器 (Chrome 90+, Firefox 90+, Safari 14+)
- 保持现有 API 接口兼容
- 为第三阶段认证集成预留接口

**让我们打造一个真正专业级的文档协作工具！** 🚀 